<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 4. Advanced Usage</title><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="The Mutt E-Mail Client" /><link rel="up" href="index.html" title="The Mutt E-Mail Client" /><link rel="prev" href="configuration.html" title="Chapter 3. Configuration" /><link rel="next" href="mimesupport.html" title="Chapter 5. Mutt's MIME Support" /><style xmlns="" type="text/css">
      body { margin-left:2%; margin-right:2%; font-family:serif; }
.toc, .list-of-tables, .list-of-examples { font-family:sans-serif; }
h1, h2, h3, h4, h5, h6 { font-family:sans-serif; }
em.replaceable code { font-family:sans-serif; }
p { text-align:justify; }
div.table p.title, div.example p.title { font-size:smaller; font-family:sans-serif; }
.email, .email a { font-family:monospace; }
div.table-contents table { border-collapse:collapse; border:1px solid #c0c0c0; }
div.table-contents table td, div.table-contents table th { padding:5px; text-align:left; }
div.table-contents table th {
    font-family:sans-serif;
    background:#d0d0d0;
    font-weight:normal;
    vertical-align:top;
}
pre.screen, div.note { background:#f0f0f0; border:1px solid #c0c0c0; padding:5px; }
div.note h3 { font-size:small; font-style:italic; font-variant: small-caps; }
div.note h3:after { content: ":" }
div.note { margin-bottom: 5px; }

    </style></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 4. Advanced Usage</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configuration.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="mimesupport.html">Next</a></td></tr></table><hr /></div><div class="chapter" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="advancedusage"></a>Chapter 4. Advanced Usage</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="advancedusage.html#regexp">1. Regular Expressions</a></span></dt><dt><span class="sect1"><a href="advancedusage.html#patterns">2. Patterns: Searching, Limiting and Tagging</a></span></dt><dd><dl><dt><span class="sect2"><a href="advancedusage.html#patterns-modifier">2.1. Pattern Modifier</a></span></dt><dt><span class="sect2"><a href="advancedusage.html#simple-patterns">2.2. Simple Patterns</a></span></dt><dt><span class="sect2"><a href="advancedusage.html#complex-patterns">2.3. Complex Patterns</a></span></dt><dt><span class="sect2"><a href="advancedusage.html#date-patterns">2.4. Searching by Date</a></span></dt></dl></dd><dt><span class="sect1"><a href="advancedusage.html#tags">3. Using Tags</a></span></dt><dt><span class="sect1"><a href="advancedusage.html#hooks">4. Using Hooks</a></span></dt><dd><dl><dt><span class="sect2"><a href="advancedusage.html#pattern-hook">4.1. Message Matching in Hooks</a></span></dt></dl></dd><dt><span class="sect1"><a href="advancedusage.html#query">5. External Address Queries</a></span></dt><dt><span class="sect1"><a href="advancedusage.html#mailbox-formats">6. Mailbox Formats</a></span></dt><dt><span class="sect1"><a href="advancedusage.html#shortcuts">7. Mailbox Shortcuts</a></span></dt><dt><span class="sect1"><a href="advancedusage.html#using-lists">8. Handling Mailing Lists</a></span></dt><dt><span class="sect1"><a href="advancedusage.html#handling-folders">9. Handling multiple folders</a></span></dt><dt><span class="sect1"><a href="advancedusage.html#editing-threads">10. Editing threads</a></span></dt><dd><dl><dt><span class="sect2"><a href="advancedusage.html#link-threads">10.1. Linking threads</a></span></dt><dt><span class="sect2"><a href="advancedusage.html#break-threads">10.2. Breaking threads</a></span></dt></dl></dd><dt><span class="sect1"><a href="advancedusage.html#dsn">11. Delivery Status Notification (DSN) Support</a></span></dt><dt><span class="sect1"><a href="advancedusage.html#urlview">12. Start a WWW Browser on URLs</a></span></dt></dl></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="regexp"></a>1. Regular Expressions</h2></div></div></div><p>
All string patterns in Mutt including those in more complex
<a class="link" href="advancedusage.html#patterns" title="2. Patterns: Searching, Limiting and Tagging">patterns</a> must be specified
using regular expressions (regexp) in the “<span class="quote">POSIX extended</span>” syntax (which
is more or less the syntax used by egrep and GNU awk).  For your
convenience, we have included below a brief description of this syntax.
</p><p>
The search is case sensitive if the pattern contains at least one upper
case letter, and case insensitive otherwise.
</p><div class="note"><h3 class="title">Note</h3><p>
Note that “<span class="quote">\</span>”
must be quoted if used for a regular expression in an initialization
command: “<span class="quote">\\</span>”.
</p></div><p>
A regular expression is a pattern that describes a set of strings.
Regular expressions are constructed analogously to arithmetic
expressions, by using various operators to combine smaller expressions.
</p><div class="note"><h3 class="title">Note</h3><p>
Note that the regular expression can be enclosed/delimited by either "
or ' which is useful if the regular expression includes a white-space
character.  See <a class="xref" href="configuration.html#muttrc-syntax" title="2. Syntax of Initialization Files">Syntax of Initialization Files</a>
for more information on " and ' delimiter processing.  To match a
literal " or ' you must preface it with \ (backslash).
</p></div><p>
The fundamental building blocks are the regular expressions that match
a single character.  Most characters, including all letters and digits,
are regular expressions that match themselves.  Any metacharacter with
special meaning may be quoted by preceding it with a backslash.
</p><p>
The period “<span class="quote">.</span>” matches any single character.  The caret “<span class="quote">^</span>” and
the dollar sign “<span class="quote">$</span>” are metacharacters that respectively match
the empty string at the beginning and end of a line.
</p><p>
A list of characters enclosed by “<span class="quote">[</span>” and “<span class="quote">]</span>” matches any
single character in that list; if the first character of the list
is a caret “<span class="quote">^</span>” then it matches any character <span class="bold"><strong>not</strong></span> in the
list.  For example, the regular expression <span class="bold"><strong>[0123456789]</strong></span>
matches any single digit.  A range of ASCII characters may be specified
by giving the first and last characters, separated by a hyphen
“<span class="quote">-</span>”.  Most metacharacters lose their special meaning inside
lists.  To include a literal “<span class="quote">]</span>” place it first in the list.
Similarly, to include a literal “<span class="quote">^</span>” place it anywhere but first.
Finally, to include a literal hyphen “<span class="quote">-</span>” place it last.
</p><p>
Certain named classes of characters are predefined.  Character classes
consist of “<span class="quote">[:</span>”, a keyword denoting the class, and “<span class="quote">:]</span>”.
The following classes are defined by the POSIX standard in
<a class="xref" href="advancedusage.html#posix-regex-char-classes" title="Table 4.1. POSIX regular expression character classes">Table 4.1, “POSIX regular expression character classes”</a>
</p><div class="table"><a id="posix-regex-char-classes"></a><p class="title"><b>Table 4.1. POSIX regular expression character classes</b></p><div class="table-contents"><table summary="POSIX regular expression character classes" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Character class</th><th>Description</th></tr></thead><tbody><tr><td>[:alnum:]</td><td>Alphanumeric characters</td></tr><tr><td>[:alpha:]</td><td>Alphabetic characters</td></tr><tr><td>[:blank:]</td><td>Space or tab characters</td></tr><tr><td>[:cntrl:]</td><td>Control characters</td></tr><tr><td>[:digit:]</td><td>Numeric characters</td></tr><tr><td>[:graph:]</td><td>Characters that are both printable and visible. (A space is printable, but not visible, while an “<span class="quote">a</span>” is both)</td></tr><tr><td>[:lower:]</td><td>Lower-case alphabetic characters</td></tr><tr><td>[:print:]</td><td>Printable characters (characters that are not control characters)</td></tr><tr><td>[:punct:]</td><td>Punctuation characters (characters that are not letter, digits, control characters, or space characters)</td></tr><tr><td>[:space:]</td><td>Space characters (such as space, tab and formfeed, to name a few)</td></tr><tr><td>[:upper:]</td><td>Upper-case alphabetic characters</td></tr><tr><td>[:xdigit:]</td><td>Characters that are hexadecimal digits</td></tr></tbody></table></div></div><br class="table-break" /><p>
A character class is only valid in a regular expression inside the
brackets of a character list.
</p><div class="note"><h3 class="title">Note</h3><p>
Note that the brackets in these
class names are part of the symbolic names, and must be included
in addition to the brackets delimiting the bracket list. For
example, <span class="bold"><strong>[[:digit:]]</strong></span> is equivalent to
<span class="bold"><strong>[0-9]</strong></span>.
</p></div><p>
Two additional special sequences can appear in character lists.  These
apply to non-ASCII character sets, which can have single symbols (called
collating elements) that are represented with more than one character,
as well as several characters that are equivalent for collating or
sorting purposes:
</p><div class="variablelist"><dl><dt><span class="term">Collating Symbols</span></dt><dd><p>
A collating symbol is a multi-character collating element enclosed in
“<span class="quote">[.</span>” and “<span class="quote">.]</span>”.  For example, if “<span class="quote">ch</span>” is a collating
element, then <span class="bold"><strong>[[.ch.]]</strong></span> is a regexp that matches
this collating element, while <span class="bold"><strong>[ch]</strong></span> is a regexp that
matches either “<span class="quote">c</span>” or “<span class="quote">h</span>”.
</p></dd><dt><span class="term">Equivalence Classes</span></dt><dd><p>
An equivalence class is a locale-specific name for a list of
characters that are equivalent. The name is enclosed in “<span class="quote">[=</span>”
and “<span class="quote">=]</span>”.  For example, the name “<span class="quote">e</span>” might be used to
represent all of “<span class="quote">è</span>” “<span class="quote">é</span>” and “<span class="quote">e</span>”.  In this case,
<span class="bold"><strong>[[=e=]]</strong></span> is a regexp that matches any of
“<span class="quote">è</span>”, “<span class="quote">é</span>” and “<span class="quote">e</span>”.
</p></dd></dl></div><p>
A regular expression matching a single character may be followed by one
of several repetition operators described in <a class="xref" href="advancedusage.html#regex-repeat" title="Table 4.2. Regular expression repetition operators">Table 4.2, “Regular expression repetition operators”</a>.
</p><div class="table"><a id="regex-repeat"></a><p class="title"><b>Table 4.2. Regular expression repetition operators</b></p><div class="table-contents"><table summary="Regular expression repetition operators" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td>?</td><td>The preceding item is optional and matched at most once</td></tr><tr><td>*</td><td>The preceding item will be matched zero or more times</td></tr><tr><td>+</td><td>The preceding item will be matched one or more times</td></tr><tr><td>{n}</td><td>The preceding item is matched exactly <span class="emphasis"><em>n</em></span> times</td></tr><tr><td>{n,}</td><td>The preceding item is matched <span class="emphasis"><em>n</em></span> or more times</td></tr><tr><td>{,m}</td><td>The preceding item is matched at most <span class="emphasis"><em>m</em></span> times</td></tr><tr><td>{n,m}</td><td>The preceding item is matched at least <span class="emphasis"><em>n</em></span> times, but no more than <span class="emphasis"><em>m</em></span> times</td></tr></tbody></table></div></div><br class="table-break" /><p>
Two regular expressions may be concatenated; the resulting regular
expression matches any string formed by concatenating two substrings
that respectively match the concatenated subexpressions.
</p><p>
Two regular expressions may be joined by the infix operator “<span class="quote">|</span>”;
the resulting regular expression matches any string matching either
subexpression.
</p><p>
Repetition takes precedence over concatenation, which in turn takes
precedence over alternation.  A whole subexpression may be enclosed in
parentheses to override these precedence rules.
</p><div class="note"><h3 class="title">Note</h3><p>
If you compile Mutt with the GNU <span class="emphasis"><em>rx</em></span> package, the
following operators may also be used in regular expressions as described in <a class="xref" href="advancedusage.html#regex-gnu-ext" title="Table 4.3. GNU regular expression extensions">Table 4.3, “GNU regular expression extensions”</a>.
</p></div><div class="table"><a id="regex-gnu-ext"></a><p class="title"><b>Table 4.3. GNU regular expression extensions</b></p><div class="table-contents"><table summary="GNU regular expression extensions" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Expression</th><th>Description</th></tr></thead><tbody><tr><td>\\y</td><td>Matches the empty string at either the beginning or the end of a word</td></tr><tr><td>\\B</td><td>Matches the empty string within a word</td></tr><tr><td>\\&lt;</td><td>Matches the empty string at the beginning of a word</td></tr><tr><td>\\&gt;</td><td>Matches the empty string at the end of a word</td></tr><tr><td>\\w</td><td>Matches any word-constituent character (letter, digit, or underscore)</td></tr><tr><td>\\W</td><td>Matches any character that is not word-constituent</td></tr><tr><td>\\`</td><td>Matches the empty string at the beginning of a buffer (string)</td></tr><tr><td>\\'</td><td>Matches the empty string at the end of a buffer</td></tr></tbody></table></div></div><br class="table-break" /><p>
Please note however that these operators are not defined by POSIX, so
they may or may not be available in stock libraries on various systems.
</p></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="patterns"></a>2. Patterns: Searching, Limiting and Tagging</h2></div></div></div><p>
Many of Mutt's commands allow you to specify a pattern to match
(<code class="literal">limit</code>, <code class="literal">tag-pattern</code>,
<code class="literal">delete-pattern</code>, etc.). <a class="xref" href="advancedusage.html#tab-patterns" title="Table 4.4. Pattern modifiers">Table 4.4, “Pattern modifiers”</a>
shows several ways to select messages.
</p><div class="table"><a id="tab-patterns"></a><p class="title"><b>Table 4.4. Pattern modifiers</b></p><div class="table-contents"><table summary="Pattern modifiers" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Pattern modifier</th><th>Description</th></tr></thead><tbody><tr><td>~A</td><td>all messages</td></tr><tr><td>~b <span class="emphasis"><em>EXPR</em></span></td><td>messages which contain <span class="emphasis"><em>EXPR</em></span> in the message body</td></tr><tr><td>=b <span class="emphasis"><em>STRING</em></span></td><td>messages which contain <span class="emphasis"><em>STRING</em></span> in the message body. If IMAP is enabled, searches for <span class="emphasis"><em>STRING</em></span> on the server, rather than downloading each message and searching it locally.</td></tr><tr><td>~B <span class="emphasis"><em>EXPR</em></span></td><td>messages which contain <span class="emphasis"><em>EXPR</em></span> in the whole message</td></tr><tr><td>~c <span class="emphasis"><em>EXPR</em></span></td><td>messages carbon-copied to <span class="emphasis"><em>EXPR</em></span></td></tr><tr><td>%c <span class="emphasis"><em>GROUP</em></span></td><td>messages carbon-copied to any member of <span class="emphasis"><em>GROUP</em></span></td></tr><tr><td>~C <span class="emphasis"><em>EXPR</em></span></td><td>messages either to: or cc: <span class="emphasis"><em>EXPR</em></span></td></tr><tr><td>%C <span class="emphasis"><em>GROUP</em></span></td><td>messages either to: or cc: to any member of <span class="emphasis"><em>GROUP</em></span></td></tr><tr><td>~d [<span class="emphasis"><em>MIN</em></span>]-[<span class="emphasis"><em>MAX</em></span>]</td><td>messages with “<span class="quote">date-sent</span>” in a Date range</td></tr><tr><td>~D</td><td>deleted messages</td></tr><tr><td>~e <span class="emphasis"><em>EXPR</em></span></td><td>messages which contains <span class="emphasis"><em>EXPR</em></span> in the “<span class="quote">Sender</span>” field</td></tr><tr><td>%e <span class="emphasis"><em>GROUP</em></span></td><td>messages which contain a member of <span class="emphasis"><em>GROUP</em></span> in the “<span class="quote">Sender</span>” field</td></tr><tr><td>~E</td><td>expired messages</td></tr><tr><td>~F</td><td>flagged messages</td></tr><tr><td>~f <span class="emphasis"><em>EXPR</em></span></td><td>messages originating from <span class="emphasis"><em>EXPR</em></span></td></tr><tr><td>%f <span class="emphasis"><em>GROUP</em></span></td><td>messages originating from any member of <span class="emphasis"><em>GROUP</em></span></td></tr><tr><td>~g</td><td>cryptographically signed messages</td></tr><tr><td>~G</td><td>cryptographically encrypted messages</td></tr><tr><td>~h <span class="emphasis"><em>EXPR</em></span></td><td>messages which contain <span class="emphasis"><em>EXPR</em></span> in the message header</td></tr><tr><td>~H <span class="emphasis"><em>EXPR</em></span></td><td>messages with a spam attribute matching <span class="emphasis"><em>EXPR</em></span></td></tr><tr><td>~i <span class="emphasis"><em>EXPR</em></span></td><td>messages which match <span class="emphasis"><em>EXPR</em></span> in the “<span class="quote">Message-ID</span>” field</td></tr><tr><td>~k</td><td>messages which contain PGP key material</td></tr><tr><td>~L <span class="emphasis"><em>EXPR</em></span></td><td>messages either originated or received by <span class="emphasis"><em>EXPR</em></span></td></tr><tr><td>%L <span class="emphasis"><em>GROUP</em></span></td><td>message either originated or received by any member of <span class="emphasis"><em>GROUP</em></span></td></tr><tr><td>~l</td><td>messages addressed to a known mailing list</td></tr><tr><td>~m [<span class="emphasis"><em>MIN</em></span>]-[<span class="emphasis"><em>MAX</em></span>]</td><td>messages in the range <span class="emphasis"><em>MIN</em></span> to <span class="emphasis"><em>MAX</em></span> *)</td></tr><tr><td>~n [<span class="emphasis"><em>MIN</em></span>]-[<span class="emphasis"><em>MAX</em></span>]</td><td>messages with a score in the range <span class="emphasis"><em>MIN</em></span> to <span class="emphasis"><em>MAX</em></span> *)</td></tr><tr><td>~N</td><td>new messages</td></tr><tr><td>~O</td><td>old messages</td></tr><tr><td>~p</td><td>messages addressed to you (consults alternates)</td></tr><tr><td>~P</td><td>messages from you (consults alternates)</td></tr><tr><td>~Q</td><td>messages which have been replied to</td></tr><tr><td>~r [<span class="emphasis"><em>MIN</em></span>]-[<span class="emphasis"><em>MAX</em></span>]</td><td>messages with “<span class="quote">date-received</span>” in a Date range</td></tr><tr><td>~R</td><td>read messages</td></tr><tr><td>~s <span class="emphasis"><em>EXPR</em></span></td><td>messages having <span class="emphasis"><em>EXPR</em></span> in the “<span class="quote">Subject</span>” field.</td></tr><tr><td>~S</td><td>superseded messages</td></tr><tr><td>~t <span class="emphasis"><em>EXPR</em></span></td><td>messages addressed to <span class="emphasis"><em>EXPR</em></span></td></tr><tr><td>~T</td><td>tagged messages</td></tr><tr><td>~u</td><td>messages addressed to a subscribed mailing list</td></tr><tr><td>~U</td><td>unread messages</td></tr><tr><td>~v</td><td>messages part of a collapsed thread.</td></tr><tr><td>~V</td><td>cryptographically verified messages</td></tr><tr><td>~x <span class="emphasis"><em>EXPR</em></span></td><td>messages which contain <span class="emphasis"><em>EXPR</em></span> in the “<span class="quote">References</span>” field</td></tr><tr><td>~X [<span class="emphasis"><em>MIN</em></span>]-[<span class="emphasis"><em>MAX</em></span>]</td><td>messages with <span class="emphasis"><em>MIN</em></span> to <span class="emphasis"><em>MAX</em></span> attachments *)</td></tr><tr><td>~y <span class="emphasis"><em>EXPR</em></span></td><td>messages which contain <span class="emphasis"><em>EXPR</em></span> in the “<span class="quote">X-Label</span>” field</td></tr><tr><td>~z [<span class="emphasis"><em>MIN</em></span>]-[<span class="emphasis"><em>MAX</em></span>]</td><td>messages with a size in the range <span class="emphasis"><em>MIN</em></span> to <span class="emphasis"><em>MAX</em></span> *)</td></tr><tr><td>~=</td><td>duplicated messages (see <a class="link" href="reference.html#duplicate-threads" title="3.49. duplicate_threads">$duplicate_threads</a>)</td></tr><tr><td>~$</td><td>unreferenced messages (requires threaded view)</td></tr><tr><td>~(<span class="emphasis"><em>PATTERN</em></span>)</td><td>messages in threads
containing messages matching <span class="emphasis"><em>PATTERN</em></span>, e.g. all
threads containing messages from you: ~(~P)</td></tr></tbody></table></div></div><br class="table-break" /><p>
Where <span class="emphasis"><em>EXPR</em></span> is a
<a class="link" href="advancedusage.html#regexp" title="1. Regular Expressions">regular expression</a>.  Special attention has to be
made when using regular expressions inside of patterns.  Specifically,
Mutt's parser for these patterns will strip one level of backslash (“<span class="quote">\</span>”),
which is normally used for quoting.  If it is your intention to use a
backslash in the regular expression, you will need to use two backslashes
instead (“<span class="quote">\\</span>”). You can force mutt to treat <span class="emphasis"><em>EXPR</em></span> as a simple string
instead of a regular expression by using = instead of ˜ in the
pattern name. For example, <code class="literal">=b *.*</code> will find all messages that contain
the literal string “<span class="quote">*.*</span>”. Simple string matches are less powerful than
regular expressions but can be considerably faster. This is especially
true for IMAP folders, because string matches can be performed on the
server instead of by fetching every message. IMAP treats <code class="literal">=h</code> specially:
it must be of the form "header: substring" and will not partially
match header names. The substring part may be omitted if you simply
wish to find messages containing a particular header without regard to
its value.
</p><p>
*) The forms “<span class="quote">&lt;[<span class="emphasis"><em>MAX</em></span>]</span>”, “<span class="quote">&gt;[<span class="emphasis"><em>MIN</em></span>]</span>”,
“<span class="quote">[<span class="emphasis"><em>MIN</em></span>]-</span>” and “<span class="quote">-[<span class="emphasis"><em>MAX</em></span>]</span>”
are allowed, too.
</p><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="patterns-modifier"></a>2.1. Pattern Modifier</h3></div></div></div><div class="note"><h3 class="title">Note</h3><p>
Note that patterns matching 'lists' of addresses (notably c, C, p, P and t)
match if there is at least one match in the whole list. If you want to
make sure that all elements of that list match, you need to prefix your
pattern with “<span class="quote">^</span>”.
This example matches all mails which only has recipients from Germany.
</p></div><pre class="screen">
^~C \.de$
</pre></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="simple-patterns"></a>2.2. Simple Patterns</h3></div></div></div><p>
Mutt supports two versions of so called “<span class="quote">simple searches</span>” which are
issued if the query entered for searching, limiting and similar
operations does not seem to be a valid pattern (i.e. it does not contain
one of these characters: “<span class="quote">˜</span>”, “<span class="quote">=</span>” or “<span class="quote">%</span>”). If the query is
supposed to contain one of these special characters, they must be escaped
by prepending a backslash (“<span class="quote">\</span>”).
</p><p>
The first type is by checking whether the query string equals
a keyword case-insensitively from <a class="xref" href="advancedusage.html#tab-simplesearch-keywords" title="Table 4.5. Simple search keywords">Table 4.5, “Simple search keywords”</a>:
If that is the case, Mutt will use the shown pattern modifier instead.
If a keyword would conflict with your search keyword, you need to turn
it into a regular expression to avoid matching the keyword table. For
example, if you want to find all messages matching “<span class="quote">flag</span>”
(using <a class="link" href="reference.html#simple-search" title="3.264. simple_search">$simple_search</a>)
but don't want to match flagged messages, simply search for
“<span class="quote"><code class="literal">[f]lag</code></span>”.
</p><div class="table"><a id="tab-simplesearch-keywords"></a><p class="title"><b>Table 4.5. Simple search keywords</b></p><div class="table-contents"><table summary="Simple search keywords" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Keyword</th><th>Pattern modifier</th></tr></thead><tbody><tr><td>all</td><td>~A</td></tr><tr><td>.</td><td>~A</td></tr><tr><td>^</td><td>~A</td></tr><tr><td>del</td><td>~D</td></tr><tr><td>flag</td><td>~F</td></tr><tr><td>new</td><td>~N</td></tr><tr><td>old</td><td>~O</td></tr><tr><td>repl</td><td>~Q</td></tr><tr><td>read</td><td>~R</td></tr><tr><td>tag</td><td>~T</td></tr><tr><td>unread</td><td>~U</td></tr></tbody></table></div></div><br class="table-break" /><p>
The second type of simple search is to build a complex search
pattern using <a class="link" href="reference.html#simple-search" title="3.264. simple_search">$simple_search</a>
as a template. Mutt will insert your query properly quoted and search
for the composed complex query.
</p></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="complex-patterns"></a>2.3. Complex Patterns</h3></div></div></div><p>
Logical AND is performed by specifying more than one criterion.  For
example:
</p><pre class="screen">
~t mutt ~f elkins
</pre><p>
would select messages which contain the word “<span class="quote">mutt</span>” in the list of
recipients <span class="bold"><strong>and</strong></span> that have the word “<span class="quote">elkins</span>” in the “<span class="quote">From</span>” header
field.
</p><p>
Mutt also recognizes the following operators to create more complex search
patterns:
</p><div class="itemizedlist"><ul type="disc"><li><p>
! -- logical NOT operator
</p></li><li><p>
| -- logical OR operator
</p></li><li><p>
() -- logical grouping operator
</p></li></ul></div><p>
Here is an example illustrating a complex search pattern.  This pattern will
select all messages which do not contain “<span class="quote">mutt</span>” in the “<span class="quote">To</span>” or “<span class="quote">Cc</span>”
field and which are from “<span class="quote">elkins</span>”.
</p><div class="example"><a id="ex-pattern-bool"></a><p class="title"><b>Example 4.1. Using boolean operators in patterns</b></p><div class="example-contents"><pre class="screen">
!(~t mutt|~c mutt) ~f elkins
</pre></div></div><br class="example-break" /><p>
Here is an example using white space in the regular expression (note
the ' and " delimiters).  For this to match, the mail's subject must
match the “<span class="quote">^Junk +From +Me$</span>” and it must be from either “<span class="quote">Jim +Somebody</span>”
or “<span class="quote">Ed +SomeoneElse</span>”:
</p><pre class="screen">
 '~s "^Junk +From +Me$" ~f ("Jim +Somebody"|"Ed +SomeoneElse")'
</pre><div class="note"><h3 class="title">Note</h3><p>
If a regular expression contains parenthesis, or a vertical bar
("|"), you <span class="bold"><strong>must</strong></span> enclose the expression in double or single quotes since
those characters are also used to separate different parts of Mutt's
pattern language.  For example: <code class="literal">~f "me@(mutt\.org|cs\.hmc\.edu)"</code>
</p></div><p>
Without the quotes, the parenthesis wouldn't end.
This would be separated to two OR'd patterns: <span class="emphasis"><em>˜f me@(mutt\.org</em></span>
and <span class="emphasis"><em>cs\.hmc\.edu)</em></span>. They are never what you want.
</p></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="date-patterns"></a>2.4. Searching by Date</h3></div></div></div><p>
Mutt supports two types of dates, <span class="emphasis"><em>absolute</em></span> and <span class="emphasis"><em>relative</em></span>.
</p><p>
<span class="bold"><strong>Absolute</strong></span>.  Dates <span class="bold"><strong>must</strong></span> be in DD/MM/YY format (month and year are
optional, defaulting to the current month and year).  An example of a valid
range of dates is:
</p><pre class="screen">
Limit to messages matching: ~d 20/1/95-31/10
</pre><p>
If you omit the minimum (first) date, and just specify “<span class="quote">-DD/MM/YY</span>”, all
messages <span class="emphasis"><em>before</em></span> the given date will be selected.  If you omit the maximum
(second) date, and specify “<span class="quote">DD/MM/YY-</span>”, all messages <span class="emphasis"><em>after</em></span> the given
date will be selected.  If you specify a single date with no dash (“<span class="quote">-</span>”),
only messages sent on the given date will be selected.
</p><p>
<span class="bold"><strong>Error Margins</strong></span>.  You can add error margins to absolute dates.
An error margin is a sign (+ or -), followed by a digit, followed by
one of the units in <a class="xref" href="advancedusage.html#tab-date-units" title="Table 4.6. Date units">Table 4.6, “Date units”</a>. As a special case, you can replace the
sign by a “<span class="quote">*</span>” character, which is equivalent to giving identical plus and minus error margins.
</p><div class="table"><a id="tab-date-units"></a><p class="title"><b>Table 4.6. Date units</b></p><div class="table-contents"><table summary="Date units" border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Unit</th><th>Description</th></tr></thead><tbody><tr><td>y</td><td>Years</td></tr><tr><td>m</td><td>Months</td></tr><tr><td>w</td><td>Weeks</td></tr><tr><td>d</td><td>Days</td></tr></tbody></table></div></div><br class="table-break" /><p>
Example: To select any messages two weeks around January 15, 2001,
you'd use the following pattern:
</p><pre class="screen">
Limit to messages matching: ~d 15/1/2001*2w
</pre><p>
<span class="bold"><strong>Relative</strong></span>.  This type of date is relative to the current date, and may
be specified as:
</p><div class="itemizedlist"><ul type="disc"><li><p>
&gt;<span class="emphasis"><em>offset</em></span> (messages older than <span class="emphasis"><em>offset</em></span> units)
</p></li><li><p>
&lt;<span class="emphasis"><em>offset</em></span> (messages newer than <span class="emphasis"><em>offset</em></span> units)
</p></li><li><p>
=<span class="emphasis"><em>offset</em></span> (messages exactly <span class="emphasis"><em>offset</em></span> units old)
</p></li></ul></div><p>
<span class="emphasis"><em>offset</em></span> is specified as a positive number with one of the units from <a class="xref" href="advancedusage.html#tab-date-units" title="Table 4.6. Date units">Table 4.6, “Date units”</a>.
</p><p>
Example: to select messages less than 1 month old, you would use
</p><pre class="screen">
Limit to messages matching: ~d &lt;1m
</pre><div class="note"><h3 class="title">Note</h3><p>
All dates used when searching are relative to the
<span class="bold"><strong>local</strong></span> time zone, so unless you change the setting of your <a class="link" href="reference.html#index-format" title="3.101. index_format">$index_format</a> to include a
<code class="literal">%[...]</code> format, these are <span class="bold"><strong>not</strong></span> the dates shown
in the main index.
</p></div></div></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="tags"></a>3. Using Tags</h2></div></div></div><p>
Sometimes it is desirable to perform an operation on a group of
messages all at once rather than one at a time.  An example might be
to save messages to a mailing list to a separate folder, or to
delete all messages with a given subject.  To tag all messages
matching a pattern, use the <code class="literal">&lt;tag-pattern&gt;</code> function, which is bound to
“<span class="quote">shift-T</span>” by default.  Or you can select individual messages by
hand using the <code class="literal">&lt;tag-message&gt;</code> function, which is bound to “<span class="quote">t</span>” by
default.  See <a class="link" href="advancedusage.html#patterns" title="2. Patterns: Searching, Limiting and Tagging">patterns</a> for Mutt's pattern
matching syntax.
</p><p>
Once you have tagged the desired messages, you can use the
“<span class="quote">tag-prefix</span>” operator, which is the “<span class="quote">;</span>” (semicolon) key by default.
When the “<span class="quote">tag-prefix</span>” operator is used, the <span class="bold"><strong>next</strong></span> operation will
be applied to all tagged messages if that operation can be used in that
manner.  If the <a class="link" href="reference.html#auto-tag" title="3.18. auto_tag">$auto_tag</a>
variable is set, the next operation applies to the tagged messages
automatically, without requiring the “<span class="quote">tag-prefix</span>”.
</p><p>
In <a class="link" href="configuration.html#macro" title="8. Keyboard macros">macros</a> or <a class="link" href="configuration.html#push" title="22. Adding key sequences to the keyboard buffer">push</a> commands,
you can use the “<span class="quote">tag-prefix-cond</span>” operator.  If there are no tagged
messages, mutt will "eat" the rest of the macro to abort it's execution.
Mutt will stop "eating" the macro when it encounters the “<span class="quote">end-cond</span>”
operator;  after this operator the rest of the macro will be executed as
normal.
</p></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="hooks"></a>4. Using Hooks</h2></div></div></div><p>
A <span class="emphasis"><em>hook</em></span> is a concept found in many other programs which allows you to
execute arbitrary commands before performing some operation.  For example,
you may wish to tailor your configuration based upon which mailbox you are
reading, or to whom you are sending mail.  In the Mutt world, a <span class="emphasis"><em>hook</em></span>
consists of a <a class="link" href="advancedusage.html#regexp" title="1. Regular Expressions">regular expression</a> or
<a class="link" href="advancedusage.html#patterns" title="2. Patterns: Searching, Limiting and Tagging">pattern</a> along with a
configuration option/command.  See

</p><div class="itemizedlist"><ul type="disc"><li><p>
<a class="link" href="configuration.html#folder-hook" title="7. Setting variables based upon mailbox">folder-hook</a>
</p></li><li><p>
<a class="link" href="configuration.html#send-hook" title="19. Change settings based upon message recipients">send-hook</a>
</p></li><li><p>
<a class="link" href="configuration.html#message-hook" title="20. Change settings before formatting a message">message-hook</a>
</p></li><li><p>
<a class="link" href="configuration.html#save-hook" title="16. Specify default save mailbox">save-hook</a>
</p></li><li><p>
<a class="link" href="configuration.html#mbox-hook" title="13. Using Multiple spool mailboxes">mbox-hook</a>
</p></li><li><p>
<a class="link" href="configuration.html#fcc-hook" title="17. Specify default Fcc: mailbox when composing">fcc-hook</a>
</p></li><li><p>
<a class="link" href="configuration.html#fcc-save-hook" title="18. Specify default save filename and default Fcc: mailbox at once">fcc-save-hook</a>
</p></li></ul></div><p>

for specific details on each type of <span class="emphasis"><em>hook</em></span> available.
</p><div class="note"><h3 class="title">Note</h3><p>
If a hook changes configuration settings, these changes remain
effective until the end of the current mutt session. As this is generally
not desired, a default hook needs to be added before all other hooks to
restore configuration defaults. Here is an example with send-hook and the
my_hdr directive:
</p></div><div class="example"><a id="ex-send-hook-my-hdr"></a><p class="title"><b>Example 4.2. Combining <code class="literal">send-hook</code> and <code class="literal">my_hdr</code></b></p><div class="example-contents"><pre class="screen">
send-hook . 'unmy_hdr From:'
send-hook ~C'^b@b\.b$' my_hdr from: c@c.c
</pre></div></div><br class="example-break" /><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="pattern-hook"></a>4.1. Message Matching in Hooks</h3></div></div></div><p>
Hooks that act upon messages (<code class="literal">message-hook, reply-hook,
send-hook, send2-hook, save-hook, fcc-hook</code>) are evaluated in a
slightly different manner. For the other
types of hooks, a <a class="link" href="advancedusage.html#regexp" title="1. Regular Expressions">regular expression</a> is
sufficient.  But in dealing with messages a finer grain of control is
needed for matching since for different purposes you want to match
different criteria.
</p><p>
Mutt allows the use of the <a class="link" href="advancedusage.html#patterns" title="2. Patterns: Searching, Limiting and Tagging">search pattern</a>
language for matching messages in hook commands.  This works in
exactly the same way as it would when <span class="emphasis"><em>limiting</em></span> or
<span class="emphasis"><em>searching</em></span> the mailbox, except that you are restricted to those
operators which match information mutt extracts from the header of
the message (i.e., from, to, cc, date, subject, etc.).
</p><p>
For example, if you wanted to set your return address based upon sending
mail to a specific address, you could do something like:
</p><pre class="screen">
send-hook '~t ^me@cs\.hmc\.edu$' 'my_hdr From: Mutt User &lt;user@host&gt;'
</pre><p>
which would execute the given command when sending mail to
<span class="emphasis"><em>me@cs.hmc.edu</em></span>.
</p><p>
However, it is not required that you write the pattern to match using the
full searching language.  You can still specify a simple <span class="emphasis"><em>regular
expression</em></span> like the other hooks, in which case Mutt will translate your
pattern into the full language, using the translation specified by the
<a class="link" href="reference.html#default-hook" title="3.41. default_hook">$default_hook</a> variable.  The
pattern is translated at the time the hook is declared, so the value of
<a class="link" href="reference.html#default-hook" title="3.41. default_hook">$default_hook</a> that is in effect
at that time will be used.
</p></div></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="query"></a>5. External Address Queries</h2></div></div></div><p>
Mutt supports connecting to external directory databases such as LDAP,
ph/qi, bbdb, or NIS through a wrapper script which connects to mutt
using a simple interface.  Using the <a class="link" href="reference.html#query-command" title="3.232. query_command">$query_command</a> variable, you specify the wrapper
command to use.  For example:
</p><pre class="screen">
set query_command = "mutt_ldap_query.pl '%s'"
</pre><p>
The wrapper script should accept the query on the command-line.  It
should return a one line message, then each matching response on a
single line, each line containing a tab separated address then name then
some other optional information.  On error, or if there are no matching
addresses, return a non-zero exit code and a one line error message.
</p><p>
An example multiple response output:
</p><pre class="screen">
Searching database ... 20 entries ... 3 matching:
me@cs.hmc.edu           Michael Elkins  mutt dude
blong@fiction.net       Brandon Long    mutt and more
roessler@does-not-exist.org        Thomas Roessler mutt pgp
</pre><p>
There are two mechanisms for accessing the query function of mutt.  One
is to do a query from the index menu using the <code class="literal">&lt;query&gt;</code> function (default: Q).
This will prompt for a query, then bring up the query menu which will
list the matching responses.  From the query menu, you can select
addresses to create aliases, or to mail.  You can tag multiple addresses
to mail, start a new query, or have a new query appended to the current
responses.
</p><p>
The other mechanism for accessing the query function is for address
completion, similar to the alias completion.  In any prompt for address
entry, you can use the <code class="literal">&lt;complete-query&gt;</code> function (default: ^T) to run a
query based on the current address you have typed.  Like aliases, mutt
will look for what you have typed back to the last space or comma.  If
there is a single response for that query, mutt will expand the address
in place.  If there are multiple responses, mutt will activate the query
menu.  At the query menu, you can select one or more addresses to be
added to the prompt.
</p></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="mailbox-formats"></a>6. Mailbox Formats</h2></div></div></div><p>
Mutt supports reading and writing of four different mailbox formats:
mbox, MMDF, MH and Maildir.  The mailbox type is autodetected, so there
is no need to use a flag for different mailbox types.  When creating new
mailboxes, Mutt uses the default specified with the <a class="link" href="reference.html#mbox-type" title="3.117. mbox_type">$mbox_type</a> variable.
</p><p>
<span class="bold"><strong>mbox</strong></span>.  This is the most widely used mailbox format for UNIX.  All
messages are stored in a single file.  Each message has a line of the form:
</p><pre class="screen">
From me@cs.hmc.edu Fri, 11 Apr 1997 11:44:56 PST
</pre><p>
to denote the start of a new message (this is often referred to as the
“<span class="quote">From_</span>” line).
</p><p>
<span class="bold"><strong>MMDF</strong></span>.  This is a variant of the <span class="emphasis"><em>mbox</em></span> format.  Each message is
surrounded by lines containing “<span class="quote">^A^A^A^A</span>” (four control-A's).
</p><p>
<span class="bold"><strong>MH</strong></span>. A radical departure from <span class="emphasis"><em>mbox</em></span> and <span class="emphasis"><em>MMDF</em></span>, a mailbox
consists of a directory and each message is stored in a separate file.
The filename indicates the message number (however, this is may not
correspond to the message number Mutt displays). Deleted messages are
renamed with a comma (,) prepended to the filename. Mutt
detects this type of mailbox by looking for either <code class="literal">.mh_sequences</code>
or <code class="literal">.xmhcache</code> (needed to distinguish normal directories from MH
mailboxes).
</p><p>
<span class="bold"><strong>Maildir</strong></span>.  The newest of the mailbox formats, used by the Qmail MTA (a
replacement for sendmail).  Similar to <span class="emphasis"><em>MH</em></span>, except that it adds three
subdirectories of the mailbox: <span class="emphasis"><em>tmp</em></span>, <span class="emphasis"><em>new</em></span> and <span class="emphasis"><em>cur</em></span>.  Filenames
for the messages are chosen in such a way they are unique, even when two
programs are writing the mailbox over NFS, which means that no file locking
is needed.
</p></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shortcuts"></a>7. Mailbox Shortcuts</h2></div></div></div><p>
There are a number of built in shortcuts which refer to specific mailboxes.
These shortcuts can be used anywhere you are prompted for a file or mailbox
path.
</p><div class="itemizedlist"><ul type="disc"><li><p>
! -- refers to your <a class="link" href="reference.html#spoolfile" title="3.277. spoolfile">$spoolfile</a> (incoming) mailbox
</p></li><li><p>
&gt; -- refers to your <a class="link" href="reference.html#mbox" title="3.116. mbox">$mbox</a> file
</p></li><li><p>
&lt; -- refers to your <a class="link" href="reference.html#record" title="3.240. record">$record</a> file
</p></li><li><p>
^ -- refers to the current mailbox
</p></li><li><p>
- or !! -- refers to the file you've last visited
</p></li><li><p>
˜ -- refers to your home directory
</p></li><li><p>
= or + -- refers to your <a class="link" href="reference.html#folder" title="3.58. folder">$folder</a> directory
</p></li><li><p>
@<span class="emphasis"><em>alias</em></span> -- refers to the <a class="link" href="configuration.html#save-hook" title="16. Specify default save mailbox">default save folder</a> as determined by the address of the alias
</p></li></ul></div></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="using-lists"></a>8. Handling Mailing Lists</h2></div></div></div><p>
Mutt has a few configuration options that make dealing with large
amounts of mail easier.  The first thing you must do is to let Mutt
know what addresses you consider to be mailing lists (technically
this does not have to be a mailing list, but that is what it is most
often used for), and what lists you are subscribed to.  This is
accomplished through the use of the <a class="link" href="configuration.html#lists" title="12. Mailing lists">lists and subscribe</a> commands in your muttrc.
</p><p>
Now that Mutt knows what your mailing lists are, it can do several
things, the first of which is the ability to show the name of a list
through which you received a message (i.e., of a subscribed list) in
the <span class="emphasis"><em>index</em></span> menu display.  This is useful to distinguish between
personal and list mail in the same mailbox.  In the <a class="link" href="reference.html#index-format" title="3.101. index_format">$index_format</a> variable, the escape “<span class="quote">%L</span>”
will return the string “<span class="quote">To &lt;list&gt;</span>” when “<span class="quote">list</span>” appears in the
“<span class="quote">To</span>” field, and “<span class="quote">Cc &lt;list&gt;</span>” when it appears in the “<span class="quote">Cc</span>”
field (otherwise it returns the name of the author).
</p><p>
Often times the “<span class="quote">To</span>” and “<span class="quote">Cc</span>” fields in mailing list messages
tend to get quite large. Most people do not bother to remove the
author of the message they reply to from the list, resulting in
two or more copies being sent to that person.  The <code class="literal">&lt;list-reply&gt;</code>
function, which by default is bound to “<span class="quote">L</span>” in the <span class="emphasis"><em>index</em></span> menu
and <span class="emphasis"><em>pager</em></span>, helps reduce the clutter by only replying to the
known mailing list addresses instead of all recipients (except as
specified by <code class="literal">Mail-Followup-To</code>, see below).
</p><p>
Mutt also supports the <code class="literal">Mail-Followup-To</code> header.  When you send
a message to a list of recipients which includes one or several
subscribed mailing lists, and if the <a class="link" href="reference.html#followup-to" title="3.60. followup_to">$followup_to</a> option is set, mutt will generate
a Mail-Followup-To header which contains all the recipients to whom
you send this message, but not your address. This indicates that
group-replies or list-replies (also known as “<span class="quote">followups</span>”) to this
message should only be sent to the original recipients of the
message, and not separately to you - you'll receive your copy through
one of the mailing lists you are subscribed to.
</p><p>
Conversely, when group-replying or list-replying to a message which
has a <code class="literal">Mail-Followup-To</code> header, mutt will respect this header if
the <a class="link" href="reference.html#honor-followup-to" title="3.79. honor_followup_to">$honor_followup_to</a> configuration
variable is set.  Using list-reply will in this case also make sure
that the reply goes to the mailing list, even if it's not specified
in the list of recipients in the <code class="literal">Mail-Followup-To</code>.
</p><div class="note"><h3 class="title">Note</h3><p>
When header editing is enabled, you can create a
<code class="literal">Mail-Followup-To</code> header manually.  Mutt will only auto-generate
this header if it doesn't exist when you send the message.
</p></div><p>
The other method some mailing list admins use is to generate a
“<span class="quote">Reply-To</span>” field which points back to the mailing list address rather
than the author of the message.  This can create problems when trying
to reply directly to the author in private, since most mail clients
will automatically reply to the address given in the “<span class="quote">Reply-To</span>”
field.  Mutt uses the <a class="link" href="reference.html#reply-to" title="3.243. reply_to">$reply_to</a>
variable to help decide which address to use.  If set to <span class="emphasis"><em>ask-yes</em></span> or
<span class="emphasis"><em>ask-no</em></span>, you will be
prompted as to whether or not you would like to use the address given in
the “<span class="quote">Reply-To</span>” field, or reply directly to the address given in the
“<span class="quote">From</span>” field.  When set to <span class="emphasis"><em>yes</em></span>, the “<span class="quote">Reply-To</span>” field will be used when
present.
</p><p>
The “<span class="quote">X-Label:</span>” header field can be used to further identify mailing
lists or list subject matter (or just to annotate messages
individually).  The <a class="link" href="reference.html#index-format" title="3.101. index_format">$index_format</a> variable's “<span class="quote">%y</span>” and
“<span class="quote">%Y</span>” escapes can be used to expand “<span class="quote">X-Label:</span>” fields in the
index, and Mutt's pattern-matcher can match regular expressions to
“<span class="quote">X-Label:</span>” fields with the “<span class="quote">˜y</span>” selector.  “<span class="quote">X-Label:</span>” is not a
standard message header field, but it can easily be inserted by procmail
and other mail filtering agents.
</p><p>
Lastly, Mutt has the ability to <a class="link" href="reference.html#sort" title="3.271. sort">sort</a> the mailbox into
<a class="link" href="gettingstarted.html#threads" title="4.3. Threaded Mode">threads</a>.  A thread is a group of messages which all relate to the same
subject.  This is usually organized into a tree-like structure where a
message and all of its replies are represented graphically.  If you've ever
used a threaded news client, this is the same concept.  It makes dealing
with large volume mailing lists easier because you can easily delete
uninteresting threads and quickly find topics of value.
</p></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="handling-folders"></a>9. Handling multiple folders</h2></div></div></div><p>
Mutt supports setups with multiple folders, allowing all of them to
be monitored for new mail (see <a class="xref" href="configuration.html#mailboxes" title="14. Monitoring incoming mail">Section 14, “Monitoring incoming mail”</a> for details).
</p><p>
When in the index menu and being idle (also see
<a class="link" href="reference.html#timeout" title="3.288. timeout">$timeout</a>), Mutt periodically checks
for new mail in all folders which have been configured via the
<code class="literal">mailboxes</code> command. The interval depends on the folder
type: for local/IMAP folders it consults
<a class="link" href="reference.html#mail-check" title="3.105. mail_check">$mail_check</a> and
<a class="link" href="reference.html#pop-checkinterval" title="3.216. pop_checkinterval">$pop_checkinterval</a>
for POP folders.
</p><p>
Outside the index menu the directory browser supports checking
for new mail using the <code class="literal">&lt;check-new&gt;</code> function which is
unbound by default. Pressing TAB will bring up a
menu showing the files specified by the <code class="literal">mailboxes</code> command,
and indicate which contain new messages. Mutt will automatically enter this
mode when invoked from the command line with the <code class="literal">-y</code> option.
</p><p>
For the pager, index and directory browser menus, Mutt contains the
<code class="literal">&lt;buffy-list&gt;</code> function (bound to “<span class="quote">.</span>” by default)
which will print a list of folders with new mail in the command line at
the bottom of the screen.
</p><p>
For the index, by default Mutt displays the number of mailboxes with new
mail in the status bar, please refer to the
<a class="link" href="reference.html#index-format" title="3.101. index_format">$index_format</a>
variable for details.
</p><p>
When changing folders, Mutt fills the prompt with the first folder from
the mailboxes list containing new mail (if any), pressing
<span class="emphasis"><em>space</em></span> will cycle through folders with new mail.
</p></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="editing-threads"></a>10. Editing threads</h2></div></div></div><p>
Mutt has the ability to dynamically restructure threads that are broken
either by misconfigured software or bad behavior from some
correspondents. This allows to clean your mailboxes formats) from these
annoyances which make it hard to follow a discussion.
</p><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="link-threads"></a>10.1. Linking threads</h3></div></div></div><p>
Some mailers tend to "forget" to correctly set the "In-Reply-To:" and
"References:" headers when replying to a message. This results in broken
discussions because Mutt has not enough information to guess the correct
threading.
You can fix this by tagging the reply, then moving to the parent message
and using the <code class="literal">&lt;link-threads&gt;</code> function (bound to &amp; by default). The
reply will then be connected to this "parent" message.
</p><p>
You can also connect multiple children at once, tagging them and using the
tag-prefix command (';') or the auto_tag option.
</p></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="break-threads"></a>10.2. Breaking threads</h3></div></div></div><p>
On mailing lists, some people are in the bad habit of starting a new
discussion by hitting "reply" to any message from the list and changing
the subject to a totally unrelated one.
You can fix such threads by using the <code class="literal">&lt;break-thread&gt;</code> function (bound
by default to #), which will turn the subthread starting from the
current message into a whole different thread.
</p></div></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="dsn"></a>11. Delivery Status Notification (DSN) Support</h2></div></div></div><p>
RFC1894 defines a set of MIME content types for relaying information
about the status of electronic mail messages.  These can be thought of as
“<span class="quote">return receipts.</span>”
</p><p>
To support DSN, there are two variables. <a class="link" href="reference.html#dsn-notify" title="3.47. dsn_notify">$dsn_notify</a> is used to request receipts for
different results (such as failed message, message delivered, etc.).
<a class="link" href="reference.html#dsn-return" title="3.48. dsn_return">$dsn_return</a> requests how much
of your message should be returned with the receipt (headers or full
message).
</p><p>
When using <a class="link" href="reference.html#sendmail" title="3.258. sendmail">$sendmail</a> for mail
delivery, you need to use either Berkeley sendmail 8.8.x (or greater) a MTA
supporting DSN command line options compatible to Sendmail: The -N and -R
options can be used by the mail client to make requests as to what type of
status messages should be returned. Please consider your MTA documentation
whether DSN is supported.
</p><p>
For SMTP delivery using <a class="link" href="reference.html#smtp-url" title="3.270. smtp_url">$smtp_url</a>, it depends on the
capabilities announced by the server whether mutt will attempt to
request DSN or not.
</p></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="urlview"></a>12. Start a WWW Browser on URLs</h2></div></div></div><p>
If a message contains URLs, it is efficient to get
a menu with all the URLs and start a WWW browser on one of them.  This
functionality is provided by the external urlview program which can be
retrieved at
<a class="ulink" href="ftp://ftp.mutt.org/mutt/contrib/" target="_top">ftp://ftp.mutt.org/mutt/contrib/</a>
and the configuration commands:
</p><pre class="screen">
macro index \cb |urlview\n
macro pager \cb |urlview\n
</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configuration.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="mimesupport.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 3. Configuration </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 5. Mutt's MIME Support</td></tr></table></div></body></html>
